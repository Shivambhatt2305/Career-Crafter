<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Career Crafters - Find Colleges in India</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            overflow-x: hidden;
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Particle Background */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(99, 102, 241, 0.3);
            border-radius: 50%;
            animation: float-particle 15s infinite linear;
        }

        @keyframes float-particle {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 2rem;
            min-height: 70px;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .nav-brand {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            flex-shrink: 0;
            order: 1;
        }

        .nav-brand i {
            margin-right: 0.5rem;
            font-size: 1.8rem;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .search-container {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex: 1;
            max-width: 600px;
            margin: 0 2rem;
            min-width: 0;
            order: 2;
        }

        .search-bar {
            display: flex;
            flex: 1;
            position: relative;
            min-width: 0;
        }

        .search-input {
            flex: 1;
            padding: 0.75rem 1rem;
            border: 2px solid #e2e8f0;
            border-radius: 25px 0 0 25px;
            font-size: 1rem;
            transition: all 0.3s ease;
            outline: none;
            min-width: 0;
        }

        .search-input:focus {
            border-color: #6366f1;
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.2);
        }

        .search-btn {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0 25px 25px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            flex-shrink: 0;
        }

        .search-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }

        .filters-container {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-dropdown {
            position: relative;
            flex-shrink: 0;
        }

        .filter-btn {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .filter-btn:hover {
            transform: scale(1.05);
        }

        .filter-menu {
            position: absolute;
            top: 100%;
            right: 0;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 1rem;
            min-width: 200px;
            display: none;
            z-index: 1001;
            max-height: 300px;
            overflow-y: auto;
        }

        .filter-menu.active {
            display: block;
        }

        .filter-section {
            margin-bottom: 1rem;
        }

        .filter-section:last-child {
            margin-bottom: 0;
        }

        .filter-section-title {
            font-weight: 600;
            color: #374151;
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
            border-bottom: 1px solid #e5e7eb;
            padding-bottom: 0.25rem;
        }

        .filter-option {
            display: block;
            width: 100%;
            padding: 0.5rem;
            border: none;
            background: none;
            text-align: left;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s ease;
            font-size: 0.85rem;
            margin-bottom: 0.25rem;
        }

        .filter-option:hover {
            background: #f1f5f9;
        }

        .filter-option.active {
            background: #e0e7ff;
            color: #6366f1;
            font-weight: 600;
        }

        .back-home {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 1rem;
            white-space: nowrap;
            flex-shrink: 0;
            order: 3;
        }

        .back-home:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.4);
        }

        /* Active Filters Display */
        .active-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            padding: 0.5rem 2rem;
            border-top: 1px solid #e2e8f0;
        }

        .active-filter-tag {
            background: #e0e7ff;
            color: #6366f1;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .active-filter-tag .remove-filter {
            cursor: pointer;
            font-weight: bold;
        }

        /* Main Content */
        .main-content {
            display: flex;
            padding-top: 100px; /* Base padding for desktop */
            min-height: 100vh;
            gap: 1rem;
            padding-left: 1rem;
            padding-right: 1rem;
            position: relative;
            z-index: 2;
        }

        /* College List */
        .college-list-container {
            width: 35%;
            min-width: 300px;
            max-width: 400px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            backdrop-filter: blur(10px);
            max-height: calc(100vh - 120px);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .list-header {
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #e2e8f0;
        }

        .list-title {
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .college-count {
            color: #64748b;
            font-size: 1rem;
        }

        .api-status {
            font-size: 0.8rem;
            color: #059669;
            margin-top: 0.25rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            flex-wrap: wrap;
        }

        .college-list {
            flex: 1;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #6366f1 #f1f5f9;
        }

        .college-list::-webkit-scrollbar {
            width: 6px;
        }

        .college-list::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }

        .college-list::-webkit-scrollbar-thumb {
            background: #6366f1;
            border-radius: 3px;
        }

        .college-item {
            background: linear-gradient(135deg, #ffffff, #f8fafc);
            border: 1px solid #e2e8f0;
            border-radius: 15px;
            padding: 1rem;
            margin-bottom: 0.75rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .college-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            transform: scaleY(0);
            transition: transform 0.3s ease;
        }

        .college-item:hover {
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            transform: translateX(5px);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.3);
        }

        .college-item:hover::before {
            transform: scaleY(1);
        }

        .college-item.active {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            transform: translateX(5px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }

        .college-item.active::before {
            transform: scaleY(1);
            background: #fbbf24;
        }

        .college-name {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            line-height: 1.3;
            word-wrap: break-word;
        }

        .college-location {
            font-size: 0.9rem;
            opacity: 0.8;
            display: flex;
            align-items: center;
            gap: 0.25rem;
            flex-wrap: wrap;
        }

        .college-type {
            font-size: 0.8rem;
            background: rgba(99, 102, 241, 0.1);
            color: #6366f1;
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            margin-top: 0.5rem;
            display: inline-block;
        }

        .college-item.active .college-type {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        /* Details Container */
        .details-container {
            flex: 1;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            padding: 2rem;
            backdrop-filter: blur(10px);
            max-height: calc(100vh - 120px);
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: #6366f1 #f1f5f9;
        }

        .details-container::-webkit-scrollbar {
            width: 6px;
        }

        .details-container::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 3px;
        }

        .details-container::-webkit-scrollbar-thumb {
            background: #6366f1;
            border-radius: 3px;
        }

        .college-header {
            display: flex;
            align-items: flex-start;
            gap: 1.5rem;
            margin-bottom: 2rem;
            padding-bottom: 1.5rem;
            border-bottom: 2px solid #e2e8f0;
            flex-wrap: wrap;
        }

        .college-image {
            width: 150px;
            height: 100px;
            border-radius: 15px;
            object-fit: cover;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            flex-shrink: 0;
        }

        .college-info {
            flex: 1;
            min-width: 0;
        }

        .college-title {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
            line-height: 1.2;
            word-wrap: break-word;
        }

        .college-details {
            color: #64748b;
            font-size: 1rem;
            line-height: 1.6;
        }

        .detail-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            flex-wrap: wrap;
        }

        .detail-icon {
            color: #6366f1;
            width: 16px;
            flex-shrink: 0;
        }

        .section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1e293b;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .section-icon {
            color: #6366f1;
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .section-content {
            color: #64748b;
            line-height: 1.7;
            font-size: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8fafc, #e2e8f0);
            padding: 1rem;
            border-radius: 10px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: #6366f1;
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.9rem;
            color: #64748b;
        }

        .review-card {
            background: #f8fafc;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            border-left: 4px solid #6366f1;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .reviewer-name {
            font-weight: 600;
            color: #1e293b;
            font-size: 1rem;
        }

        .rating {
            color: #fbbf24;
            font-size: 1rem;
        }

        .review-text {
            color: #64748b;
            font-size: 1rem;
            line-height: 1.6;
        }

        .no-selection {
            text-align: center;
            padding: 3rem;
            color: #64748b;
        }

        .no-selection i {
            font-size: 4rem;
            color: #e2e8f0;
            margin-bottom: 1rem;
        }

        .loading {
            text-align: center;
            padding: 2rem;
            color: #64748b;
        }

        .loading i {
            font-size: 2rem;
            color: #6366f1;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* Error message */
        .error-message {
            background: #fee2e2;
            color: #b91c1c;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            border-left: 4px solid #b91c1c;
            font-size: 0.9rem;
        }

        /* Success message */
        .success-message {
            background: #d1fae5;
            color: #065f46;
            padding: 1rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            border-left: 4px solid #065f46;
            font-size: 0.9rem;
        }

        /* Tags container */
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .tag {
            background: linear-gradient(135deg, #e0e7ff, #c7d2fe);
            color: #6366f1;
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.85rem;
            font-weight: 500;
            border: 1px solid #c7d2fe;
            word-break: break-word;
        }

        /* Map container */
        .map-container {
            width: 100%;
            height: 300px;
            border-radius: 15px;
            margin-top: 1rem;
            border: 1px solid #e2e8f0;
            background: #f8fafc;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            text-align: center;
            color: #64748b;
            padding: 1rem;
        }

        .map-container i {
            font-size: 3rem;
            color: #6366f1;
            margin-bottom: 1rem;
        }

        /* Mobile Toggle */
        .mobile-toggle {
            display: none;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            margin-bottom: 1rem;
            width: 100%;
            font-size: 1rem;
        }

        /* Enhanced Responsive Design */
        
        /* Large tablets and small desktops */
        @media (max-width: 1200px) {
            .navbar {
                padding: 1rem 1.5rem;
            }
            
            .search-container {
                margin: 0 1rem;
                max-width: 500px;
            }
            
            .college-list-container {
                width: 38%;
            }
            
            .main-content {
                gap: 0.75rem;
            }

            .active-filters {
                padding: 0.5rem 1.5rem;
            }
        }

        /* Tablets */
        @media (max-width: 1024px) {
            .college-list-container {
                width: 40%;
                min-width: 280px;
            }
            
            .search-container {
                margin: 0 0.75rem;
                max-width: 450px;
            }
            
            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            }

            .filters-container {
                gap: 0.25rem;
            }

            .main-content {
                padding-top: 120px;
            }
        }

        /* Small tablets and large phones */
        @media (max-width: 768px) {
            .navbar {
                flex-direction: column;
                gap: 1rem;
                padding: 1rem;
                align-items: stretch;
                min-height: auto;
            }
            
            .nav-brand {
                align-self: center;
                order: 1;
                font-size: 1.3rem;
            }

            .nav-brand i {
                font-size: 1.5rem;
            }
            
            .search-container {
                width: 100%;
                margin: 0;
                max-width: none;
                order: 2;
                flex-direction: column;
                gap: 0.75rem;
            }

            .search-bar {
                width: 100%;
            }

            .search-input {
                border-radius: 25px;
                padding: 0.75rem 1rem;
            }

            .search-btn {
                border-radius: 25px;
                width: 100%;
                padding: 0.75rem;
            }

            .filters-container {
                width: 100%;
                justify-content: center;
                gap: 0.5rem;
            }

            .filter-btn {
                flex: 1;
                justify-content: center;
                padding: 0.75rem 1rem;
                font-size: 0.9rem;
            }
            
            .back-home {
                align-self: center;
                order: 3;
                padding: 0.75rem 1.5rem;
                font-size: 0.9rem;
            }

            .active-filters {
                padding: 0.5rem 1rem;
                justify-content: center;
            }
            
            .main-content {
                flex-direction: column;
                padding-top: 200px; /* Increased for mobile stacked header */
                gap: 1rem;
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .college-list-container {
                width: 100%;
                max-height: 350px;
                order: 2;
                min-width: auto;
            }
            
            .details-container {
                width: 100%;
                max-height: none;
                order: 1;
            }
            
            .mobile-toggle {
                display: block;
            }
            
            .college-list-container.mobile-hidden {
                display: none;
            }
            
            .college-header {
                flex-direction: column;
                text-align: center;
                align-items: center;
            }
            
            .college-image {
                width: 100%;
                max-width: 300px;
                height: 200px;
            }

            .college-title {
                font-size: 1.5rem;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .filter-menu {
                right: auto;
                left: 0;
                min-width: 180px;
            }

            .section-title {
                font-size: 1.3rem;
            }

            .list-title {
                font-size: 1.3rem;
            }
        }

        /* Mobile phones */
        @media (max-width: 480px) {
            .navbar {
                padding: 0.75rem;
            }

            .nav-brand {
                font-size: 1.2rem;
            }

            .nav-brand i {
                font-size: 1.3rem;
            }

            .filter-btn {
                font-size: 0.85rem;
                padding: 0.6rem 0.8rem;
            }

            .back-home {
                font-size: 0.85rem;
                padding: 0.6rem 1.2rem;
            }

            .main-content {
                padding-left: 0.75rem;
                padding-right: 0.75rem;
                padding-top: 220px; /* Further increased for smaller mobile */
            }
            
            .college-list-container,
            .details-container {
                padding: 1rem;
                border-radius: 15px;
            }
            
            .college-header {
                gap: 1rem;
            }

            .college-title {
                font-size: 1.3rem;
            }

            .section-title {
                font-size: 1.2rem;
            }

            .list-title {
                font-size: 1.2rem;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }

            .college-list-container {
                max-height: 40vh;
            }

            .detail-item {
                font-size: 0.9rem;
            }

            .review-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.25rem;
            }

            .map-container {
                height: 200px;
            }
        }

        /* Very small phones */
        @media (max-width: 360px) {
            .main-content {
                padding-left: 0.5rem;
                padding-right: 0.5rem;
                padding-top: 240px;
            }
            
            .college-list-container,
            .details-container {
                padding: 0.75rem;
            }
            
            .navbar {
                padding: 0.5rem;
            }
            
            .tags-container {
                gap: 0.25rem;
            }
            
            .tag {
                padding: 0.2rem 0.5rem;
                font-size: 0.75rem;
            }

            .filter-btn {
                font-size: 0.8rem;
                padding: 0.5rem 0.7rem;
            }

            .active-filters {
                padding: 0.5rem;
            }
        }

        /* Landscape orientation on mobile */
        @media (max-height: 500px) and (orientation: landscape) {
            .main-content {
                padding-top: 90px;
            }
            
            .navbar {
                padding: 0.5rem 1rem;
                min-height: 60px;
                flex-direction: row;
            }

            .search-container {
                flex-direction: row;
                order: 2;
                margin: 0 1rem;
            }

            .nav-brand {
                order: 1;
            }

            .back-home {
                order: 3;
            }
            
            .college-list-container {
                max-height: calc(100vh - 100px);
            }
            
            .details-container {
                max-height: calc(100vh - 100px);
            }
        }

        /* Touch device optimizations */
        @media (hover: none) and (pointer: coarse) {
            .college-item:hover {
                transform: none;
                background: linear-gradient(135deg, #ffffff, #f8fafc);
            }
            
            .search-btn:hover,
            .filter-btn:hover,
            .back-home:hover {
                transform: none;
            }
            
            .college-item {
                padding: 1rem;
            }
            
            .search-btn,
            .filter-btn,
            .back-home {
                padding: 0.75rem 1rem;
                min-height: 44px;
            }
        }

        /* High DPI displays */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .college-image {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .particle {
                animation: none;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            body {
                background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            }
            
            .header {
                background: rgba(30, 41, 59, 0.95);
            }
            
            .college-list-container,
            .details-container {
                background: rgba(30, 41, 59, 0.95);
                color: #e2e8f0;
            }
            
            .college-item {
                background: linear-gradient(135deg, #334155, #475569);
                border-color: #475569;
                color: #e2e8f0;
            }
            
            .section-content,
            .college-details,
            .college-count {
                color: #cbd5e1;
            }
        }

        /* Print styles */
        @media print {
            .header,
            .mobile-toggle,
            .particles {
                display: none;
            }
            
            .main-content {
                padding-top: 0;
                flex-direction: column;
            }
            
            .college-list-container {
                width: 100%;
                max-height: none;
                page-break-inside: avoid;
            }
            
            .details-container {
                width: 100%;
                max-height: none;
            }
        }
    </style>
</head>
<body>
    <!-- Particle Background -->
    <div class="particles" id="particles"></div>

    <!-- Header -->
    <header class="header">
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-graduation-cap"></i>
                <span>Career Crafters</span>
            </div>
            <div class="search-container">
                <div class="search-bar">
                    <input type="text" id="search-input" class="search-input" placeholder="Search colleges by name, city, or state...">
                    <button id="search-btn" class="search-btn">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="filters-container">
                    <div class="filter-dropdown">
                        <button id="type-filter-btn" class="filter-btn">
                            <i class="fas fa-graduation-cap"></i> <span class="filter-text">Type</span>
                        </button>
                        <div id="type-filter-menu" class="filter-menu">
                            <div class="filter-section">
                                <div class="filter-section-title">Institution Type</div>
                                <button class="filter-option active" data-filter="all" data-type="type">All Types</button>
                                <button class="filter-option" data-filter="university" data-type="type">Universities</button>
                                <button class="filter-option" data-filter="college" data-type="type">Colleges</button>
                                <button class="filter-option" data-filter="institute" data-type="type">Institutes</button>
                                <button class="filter-option" data-filter="school" data-type="type">Schools</button>
                            </div>
                        </div>
                    </div>
                    <div class="filter-dropdown">
                        <button id="city-filter-btn" class="filter-btn">
                            <i class="fas fa-map-marker-alt"></i> <span class="filter-text">City</span>
                        </button>
                        <div id="city-filter-menu" class="filter-menu">
                            <div class="filter-section">
                                <div class="filter-section-title">Select City</div>
                                <button class="filter-option active" data-filter="all" data-type="city">All Cities</button>
                                <div id="city-options">
                                    <!-- City options will be populated dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="filter-dropdown">
                        <button id="state-filter-btn" class="filter-btn">
                            <i class="fas fa-map"></i> <span class="filter-text">State</span>
                        </button>
                        <div id="state-filter-menu" class="filter-menu">
                            <div class="filter-section">
                                <div class="filter-section-title">Select State</div>
                                <button class="filter-option active" data-filter="all" data-type="state">All States</button>
                                <div id="state-options">
                                    <!-- State options will be populated dynamically -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <a href="index.html" class="back-home">
                <i class="fas fa-arrow-left"></i> <span class="home-text">Home</span>
            </a>
        </nav>
        <div class="active-filters" id="active-filters">
            <!-- Active filters will be displayed here -->
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- College List -->
        <div class="college-list-container" id="college-list-container">
            <div class="list-header">
                <h2 class="list-title">Colleges in India</h2>
                <p class="college-count" id="college-count">Loading colleges...</p>
                <div class="api-status" id="api-status">
                    <i class="fas fa-wifi"></i>
                    <span>Connecting to OpenStreetMap API...</span>
                </div>
            </div>
            <div id="college-list" class="college-list">
                <div class="loading">
                    <i class="fas fa-spinner"></i>
                    <p>Fetching real college data from APIs...</p>
                </div>
            </div>
        </div>

        <!-- College Details -->
        <div class="details-container">
            <button class="mobile-toggle" id="mobile-toggle">
                <i class="fas fa-list"></i> Show College List
            </button>
            <div id="college-details">
                <div class="no-selection">
                    <i class="fas fa-university"></i>
                    <h2 class="list-title">Select a College</h2>
                    <p>Choose a college from the list to view detailed information. Data is fetched live from OpenStreetMap and other educational APIs.</p>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Global variables
        let allColleges = [];
        let filteredColleges = [];
        let currentFilters = {
            type: 'all',
            city: 'all',
            state: 'all'
        };
        let activeCollege = null;
        let currentSearchQuery = '';
        let availableCities = new Set();
        let availableStates = new Set();

        // API endpoints
        const OVERPASS_API = 'https://overpass-api.de/api/interpreter';
        const NOMINATIM_API = 'https://nominatim.openstreetmap.org/search';

        // College type mapping
        const collegeTypeMapping = {
            'university': 'University',
            'college': 'College',
            'institute': 'Institute',
            'school': 'School',
            'iit': 'Engineering',
            'nit': 'Engineering',
            'engineering': 'Engineering',
            'medical': 'Medical',
            'management': 'Management',
            'law': 'Law',
            'arts': 'Arts & Science',
            'science': 'Arts & Science'
        };

        // Create particles with responsive count
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            const particleCount = window.innerWidth < 480 ? 15 : window.innerWidth < 768 ? 25 : 50;
            
            // Clear existing particles
            particlesContainer.innerHTML = '';
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 15 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Update API status
        function updateApiStatus(message, isError = false) {
            const statusElement = document.getElementById('api-status');
            if (statusElement) {
                statusElement.innerHTML = `
                    <i class="fas fa-${isError ? 'exclamation-triangle' : 'wifi'}"></i>
                    <span>${message}</span>
                `;
                statusElement.style.color = isError ? '#dc2626' : '#059669';
            }
        }

        // Fetch colleges from Overpass API (OpenStreetMap)
        async function fetchCollegesFromOverpass(query = '', bbox = null) {
            try {
                updateApiStatus('Fetching from OpenStreetMap API...');
                
                // Define bounding box for India
                const indiaBbox = bbox || '6.4627,68.1097,35.5044,97.3953'; // South, West, North, East
                
                // Build Overpass query for educational institutions
                let overpassQuery = `
                    [out:json][timeout:25];
                    (
                        node["amenity"="university"](${indiaBbox});
                        node["amenity"="college"](${indiaBbox});
                        node["amenity"="school"]["school:type"~"higher_education|university"](${indiaBbox});
                        way["amenity"="university"](${indiaBbox});
                        way["amenity"="college"](${indiaBbox});
                        relation["amenity"="university"](${indiaBbox});
                        relation["amenity"="college"](${indiaBbox});
                    );
                    out center meta;
                `;

                // If there's a search query, modify the query
                if (query) {
                    overpassQuery = `
                        [out:json][timeout:25];
                        (
                            node["amenity"~"university|college"]["name"~"${query}",i](${indiaBbox});
                            way["amenity"~"university|college"]["name"~"${query}",i](${indiaBbox});
                            relation["amenity"~"university|college"]["name"~"${query}",i](${indiaBbox});
                        );
                        out center meta;
                    `;
                }

                const response = await fetch(OVERPASS_API, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: `data=${encodeURIComponent(overpassQuery)}`
                });

                if (!response.ok) {
                    throw new Error(`Overpass API error: ${response.status}`);
                }

                const data = await response.json();
                updateApiStatus(`Found ${data.elements.length} colleges from OpenStreetMap`);

                return data.elements.map(element => {
                    const tags = element.tags || {};
                    const lat = element.lat || element.center?.lat;
                    const lon = element.lon || element.center?.lon;
                    
                    // Determine college type
                    let type = 'College';
                    const name = (tags.name || 'Unknown College').toLowerCase();
                    
                    for (const [keyword, collegeType] of Object.entries(collegeTypeMapping)) {
                        if (name.includes(keyword)) {
                            type = collegeType;
                            break;
                        }
                    }

                    // Extract location information
                    const city = tags['addr:city'] || tags.city || extractCityFromName(tags.name) || 'Unknown';
                    const state = tags['addr:state'] || tags.state || extractStateFromName(tags.name) || 'Unknown';
                    
                    return {
                        id: element.id,
                        name: tags.name || 'Unknown College',
                        city: city,
                        state: state,
                        type: type,
                        amenity: tags.amenity || 'college',
                        website: tags.website || null,
                        phone: tags.phone || null,
                        email: tags.email || null,
                        address: tags['addr:full'] || `${city}, ${state}`,
                        coordinates: lat && lon ? { lat, lon } : null,
                        source: 'OpenStreetMap'
                    };
                }).filter(college => college.name !== 'Unknown College');

            } catch (error) {
                console.error('Overpass API error:', error);
                updateApiStatus('OpenStreetMap API error, trying fallback...', true);
                throw error;
            }
        }

        // Fetch colleges from Nominatim API (fallback)
        async function fetchCollegesFromNominatim(query = 'college') {
            try {
                updateApiStatus('Fetching from Nominatim API...');
                
                const searchQuery = query || 'college university institute';
                const url = `${NOMINATIM_API}?format=json&q=${encodeURIComponent(searchQuery + ' India')}&limit=50&countrycodes=in&addressdetails=1&extratags=1`;
                
                const response = await fetch(url, {
                    headers: {
                        'User-Agent': 'CareerCrafters/1.0 (Educational Purpose)'
                    }
                });

                if (!response.ok) {
                    throw new Error(`Nominatim API error: ${response.status}`);
                }

                const data = await response.json();
                updateApiStatus(`Found ${data.length} results from Nominatim API`);

                return data.filter(item => {
                    const type = item.type?.toLowerCase() || '';
                    const category = item.category?.toLowerCase() || '';
                    return category === 'amenity' && ['university', 'college', 'school'].includes(type);
                }).map(item => {
                    const address = item.address || {};
                    let type = 'College';
                    
                    const name = (item.display_name || 'Unknown College').toLowerCase();
                    for (const [keyword, collegeType] of Object.entries(collegeTypeMapping)) {
                        if (name.includes(keyword)) {
                            type = collegeType;
                            break;
                        }
                    }

                    return {
                        id: item.place_id,
                        name: item.name || item.display_name?.split(',')[0] || 'Unknown College',
                        city: address.city || address.town || address.village || 'Unknown',
                        state: address.state || 'Unknown',
                        type: type,
                        amenity: item.type || 'college',
                        address: item.display_name || 'Unknown',
                        coordinates: {
                            lat: parseFloat(item.lat),
                            lon: parseFloat(item.lon)
                        },
                        source: 'Nominatim'
                    };
                });

            } catch (error) {
                console.error('Nominatim API error:', error);
                updateApiStatus('Nominatim API error', true);
                throw error;
            }
        }

        // Extract city from college name (helper function)
        function extractCityFromName(name) {
            if (!name) return null;
            
            const indianCities = [
                'Delhi', 'Mumbai', 'Bangalore', 'Chennai', 'Kolkata', 'Hyderabad', 'Pune', 'Ahmedabad',
                'Jaipur', 'Lucknow', 'Kanpur', 'Nagpur', 'Indore', 'Bhopal', 'Visakhapatnam', 'Patna',
                'Vadodara', 'Ghaziabad', 'Ludhiana', 'Agra', 'Nashik', 'Faridabad', 'Meerut', 'Rajkot',
                'Kalyan', 'Vasai', 'Varanasi', 'Srinagar', 'Aurangabad', 'Dhanbad', 'Amritsar', 'Navi Mumbai',
                'Allahabad', 'Ranchi', 'Howrah', 'Coimbatore', 'Jabalpur', 'Gwalior', 'Vijayawada', 'Jodhpur',
                'Madurai', 'Raipur', 'Kota', 'Guwahati', 'Chandigarh', 'Solapur', 'Hubli', 'Tiruchirappalli',
                'Bareilly', 'Mysore', 'Tiruppur', 'Gurgaon', 'Aligarh', 'Jalandhar', 'Bhubaneswar', 'Salem'
            ];
            
            for (const city of indianCities) {
                if (name.toLowerCase().includes(city.toLowerCase())) {
                    return city;
                }
            }
            return null;
        }

        // Extract state from college name (helper function)
        function extractStateFromName(name) {
            if (!name) return null;
            
            const indianStates = [
                'Andhra Pradesh', 'Arunachal Pradesh', 'Assam', 'Bihar', 'Chhattisgarh', 'Goa', 'Gujarat',
                'Haryana', 'Himachal Pradesh', 'Jharkhand', 'Karnataka', 'Kerala', 'Madhya Pradesh',
                'Maharashtra', 'Manipur', 'Meghalaya', 'Mizoram', 'Nagaland', 'Odisha', 'Punjab',
                'Rajasthan', 'Sikkim', 'Tamil Nadu', 'Telangana', 'Tripura', 'Uttar Pradesh', 'Uttarakhand',
                'West Bengal', 'Delhi', 'Jammu and Kashmir', 'Ladakh'
            ];
            
            for (const state of indianStates) {
                if (name.toLowerCase().includes(state.toLowerCase())) {
                    return state;
                }
            }
            return null;
        }

        // Update filter options based on available data
        function updateFilterOptions() {
            // Update city options
            const cityOptionsContainer = document.getElementById('city-options');
            if (cityOptionsContainer) {
                cityOptionsContainer.innerHTML = '';
                const sortedCities = Array.from(availableCities).sort();
                sortedCities.forEach(city => {
                    if (city !== 'Unknown') {
                        const option = document.createElement('button');
                        option.className = 'filter-option';
                        option.dataset.filter = city.toLowerCase();
                        option.dataset.type = 'city';
                        option.textContent = city;
                        option.addEventListener('click', () => handleFilter('city', city.toLowerCase()));
                        cityOptionsContainer.appendChild(option);
                    }
                });
            }

            // Update state options
            const stateOptionsContainer = document.getElementById('state-options');
            if (stateOptionsContainer) {
                stateOptionsContainer.innerHTML = '';
                const sortedStates = Array.from(availableStates).sort();
                sortedStates.forEach(state => {
                    if (state !== 'Unknown') {
                        const option = document.createElement('button');
                        option.className = 'filter-option';
                        option.dataset.filter = state.toLowerCase();
                        option.dataset.type = 'state';
                        option.textContent = state;
                        option.addEventListener('click', () => handleFilter('state', state.toLowerCase()));
                        stateOptionsContainer.appendChild(option);
                    }
                });
            }
        }

        // Main fetch function
        async function fetchColleges(query = '') {
            const listContainer = document.getElementById('college-list');
            const countElement = document.getElementById('college-count');
            
            if (!listContainer || !countElement) return;
            
            // Show loading state
            listContainer.innerHTML = `
                <div class="loading">
                    <i class="fas fa-spinner"></i>
                    <p>Fetching real college data from APIs...</p>
                </div>
            `;
            
            countElement.textContent = 'Loading colleges...';
            currentSearchQuery = query;
            
            try {
                let colleges = [];
                
                // Try Overpass API first
                try {
                    colleges = await fetchCollegesFromOverpass(query);
                    
                    // If we get few results, try to get more from different regions
                    if (colleges.length < 20 && !query) {
                        updateApiStatus('Getting more colleges from different regions...');
                        
                        // Try major city regions
                        const cityBboxes = [
                            '28.4,77.0,28.8,77.4', // Delhi
                            '18.8,72.7,19.3,73.1', // Mumbai
                            '12.8,77.4,13.2,77.8', // Bangalore
                            '13.0,80.1,13.3,80.3', // Chennai
                            '22.4,88.2,22.7,88.5'  // Kolkata
                        ];
                        
                        for (const bbox of cityBboxes) {
                            try {
                                const cityColleges = await fetchCollegesFromOverpass('', bbox);
                                colleges = colleges.concat(cityColleges);
                                if (colleges.length > 50) break;
                            } catch (error) {
                                console.log('Error fetching from city bbox:', error);
                            }
                        }
                    }
                } catch (error) {
                    console.log('Overpass API failed, trying Nominatim...');
                    colleges = await fetchCollegesFromNominatim(query);
                }
                
                // Remove duplicates based on name and location
                const uniqueColleges = [];
                const seen = new Set();
                
                for (const college of colleges) {
                    const key = `${college.name.toLowerCase()}-${college.city.toLowerCase()}`;
                    if (!seen.has(key)) {
                        seen.add(key);
                        uniqueColleges.push(college);
                        
                        // Add to available cities and states
                        if (college.city !== 'Unknown') {
                            availableCities.add(college.city);
                        }
                        if (college.state !== 'Unknown') {
                            availableStates.add(college.state);
                        }
                    }
                }
                
                // Store all colleges
                allColleges = uniqueColleges;
                
                // Update filter options
                updateFilterOptions();
                
                // Apply current filters
                applyFilters();
                
                // Update count and render
                countElement.textContent = `${filteredColleges.length} colleges found`;
                updateApiStatus(`Successfully loaded ${filteredColleges.length} colleges`);
                
                renderCollegeList();
                
                // Show success message
                if (filteredColleges.length > 0) {
                    showMessage(`Successfully fetched ${filteredColleges.length} colleges from live APIs!`, 'success');
                }
                
            } catch (error) {
                console.error('Error fetching colleges:', error);
                updateApiStatus('All APIs failed. Please try again later.', true);
                
                listContainer.innerHTML = `
                    <div class="error-message">
                        <p><strong>API Error:</strong> Unable to fetch college data from external APIs.</p>
                        <p>Please check your internet connection and try again.</p>
                        <button onclick="fetchColleges('${currentSearchQuery}')" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #6366f1; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9rem;">
                            <i class="fas fa-refresh"></i> Retry
                        </button>
                    </div>
                `;
                
                countElement.textContent = '0 colleges found';
            }
        }

        // Apply filters to college list
        function applyFilters() {
            filteredColleges = allColleges.filter(college => {
                // Type filter
                if (currentFilters.type !== 'all') {
                    if (currentFilters.type === 'university') {
                        if (!(college.amenity === 'university' || college.name.toLowerCase().includes('university'))) {
                            return false;
                        }
                    } else if (currentFilters.type === 'college') {
                        if (!(college.amenity === 'college' || college.name.toLowerCase().includes('college'))) {
                            return false;
                        }
                    } else if (currentFilters.type === 'institute') {
                        if (!college.name.toLowerCase().includes('institute')) {
                            return false;
                        }
                    } else if (currentFilters.type === 'school') {
                        if (!(college.amenity === 'school' || college.name.toLowerCase().includes('school'))) {
                            return false;
                        }
                    }
                }

                // City filter
                if (currentFilters.city !== 'all') {
                    if (college.city.toLowerCase() !== currentFilters.city) {
                        return false;
                    }
                }

                // State filter
                if (currentFilters.state !== 'all') {
                    if (college.state.toLowerCase() !== currentFilters.state) {
                        return false;
                    }
                }

                return true;
            });

            updateActiveFiltersDisplay();
        }

        // Update active filters display
        function updateActiveFiltersDisplay() {
            const activeFiltersContainer = document.getElementById('active-filters');
            if (!activeFiltersContainer) return;

            activeFiltersContainer.innerHTML = '';

            const activeFiltersList = [];

            if (currentFilters.type !== 'all') {
                activeFiltersList.push({
                    type: 'type',
                    value: currentFilters.type,
                    label: currentFilters.type.charAt(0).toUpperCase() + currentFilters.type.slice(1)
                });
            }

            if (currentFilters.city !== 'all') {
                const cityLabel = Array.from(availableCities).find(city => 
                    city.toLowerCase() === currentFilters.city
                ) || currentFilters.city;
                activeFiltersList.push({
                    type: 'city',
                    value: currentFilters.city,
                    label: cityLabel
                });
            }

            if (currentFilters.state !== 'all') {
                const stateLabel = Array.from(availableStates).find(state => 
                    state.toLowerCase() === currentFilters.state
                ) || currentFilters.state;
                activeFiltersList.push({
                    type: 'state',
                    value: currentFilters.state,
                    label: stateLabel
                });
            }

            activeFiltersList.forEach(filter => {
                const filterTag = document.createElement('div');
                filterTag.className = 'active-filter-tag';
                filterTag.innerHTML = `
                    <span>${filter.label}</span>
                    <span class="remove-filter" onclick="removeFilter('${filter.type}')">×</span>
                `;
                activeFiltersContainer.appendChild(filterTag);
            });

            if (activeFiltersList.length > 0) {
                const clearAllBtn = document.createElement('div');
                clearAllBtn.className = 'active-filter-tag';
                clearAllBtn.style.background = '#fee2e2';
                clearAllBtn.style.color = '#b91c1c';
                clearAllBtn.innerHTML = `
                    <span>Clear All</span>
                    <span class="remove-filter" onclick="clearAllFilters()">×</span>
                `;
                activeFiltersContainer.appendChild(clearAllBtn);
            }

            // Show/hide active filters section
            if (activeFiltersList.length > 0) {
                activeFiltersContainer.style.display = 'flex';
            } else {
                activeFiltersContainer.style.display = 'none';
            }
        }

        // Remove specific filter
        function removeFilter(filterType) {
            currentFilters[filterType] = 'all';
            
            // Update UI
            document.querySelectorAll(`[data-type="${filterType}"]`).forEach(option => {
                option.classList.remove('active');
                if (option.dataset.filter === 'all') {
                    option.classList.add('active');
                }
            });

            applyFilters();
            renderCollegeList();
            updateCollegeCount();
        }

        // Clear all filters
        function clearAllFilters() {
            currentFilters = {
                type: 'all',
                city: 'all',
                state: 'all'
            };

            // Update UI
            document.querySelectorAll('.filter-option').forEach(option => {
                option.classList.remove('active');
                if (option.dataset.filter === 'all') {
                    option.classList.add('active');
                }
            });

            applyFilters();
            renderCollegeList();
            updateCollegeCount();
        }

        // Update college count
        function updateCollegeCount() {
            const countElement = document.getElementById('college-count');
            if (countElement) {
                countElement.textContent = `${filteredColleges.length} colleges found`;
            }
        }

        // Show message helper
        function showMessage(message, type = 'success') {
            const listContainer = document.getElementById('college-list');
            if (!listContainer) return;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = `${type}-message`;
            messageDiv.innerHTML = `<p>${message}</p>`;
            
            listContainer.insertAdjacentElement('beforebegin', messageDiv);
            
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.remove();
                }
            }, 5000);
        }

        // Render college list
        function renderCollegeList() {
            const listContainer = document.getElementById('college-list');
            if (!listContainer) return;
            
            if (filteredColleges.length === 0) {
                listContainer.innerHTML = `
                    <div class="no-selection">
                        <i class="fas fa-search"></i>
                        <p>No colleges found matching your criteria.</p>
                        <button onclick="clearAllFilters()" style="margin-top: 1rem; padding: 0.5rem 1rem; background: #6366f1; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.9rem;">
                            <i class="fas fa-refresh"></i> Clear Filters
                        </button>
                    </div>
                `;
                return;
            }
            
            listContainer.innerHTML = '';
            
            filteredColleges.forEach(college => {
                const collegeItem = document.createElement('div');
                collegeItem.className = 'college-item';
                collegeItem.innerHTML = `
                    <div class="college-name">${college.name}</div>
                    <div class="college-location">
                        <i class="fas fa-map-marker-alt"></i>
                        ${college.city}, ${college.state}
                    </div>
                    <div class="college-type">${college.type}</div>
                `;
                
                collegeItem.addEventListener('click', () => {
                    // Remove active class from all items
                    document.querySelectorAll('.college-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Add active class to clicked item
                    collegeItem.classList.add('active');
                    
                    // Display college details
                    displayCollegeDetails(college);
                    
                    // Hide mobile list on selection
                    if (window.innerWidth <= 768) {
                        const listContainer = document.getElementById('college-list-container');
                        const toggleBtn = document.getElementById('mobile-toggle');
                        if (listContainer && toggleBtn) {
                            listContainer.classList.add('mobile-hidden');
                            toggleBtn.innerHTML = '<i class="fas fa-list"></i> Show College List';
                        }
                    }
                });
                
                listContainer.appendChild(collegeItem);
            });
        }

        // Display college details
        function displayCollegeDetails(college) {
            const detailsContainer = document.getElementById('college-details');
            if (!detailsContainer) return;
            
            activeCollege = college;
            
            // Show loading state
            detailsContainer.innerHTML = `
                <div class="loading">
                    <i class="fas fa-spinner"></i>
                    <p>Loading college details...</p>
                </div>
            `;
            
            // Simulate loading delay for better UX
            setTimeout(() => {
                // Generate dynamic data based on college type
                const about = `${college.name} is a ${college.type.toLowerCase()} located in ${college.city}, ${college.state}. This institution offers various academic programs and is part of India's educational landscape. The college information is sourced from ${college.source} and provides real-time data about educational institutions across India.`;
                
                // Generate mock reviews
                const reviews = generateMockReviews();
                
                // Generate mock placement data
                const placements = generateMockPlacements(college.type);
                
                // Generate courses based on type
                const courses = generateCourses(college.type);
                
                // Generate facilities
                const facilities = ['Library', 'Computer Labs', 'Sports Complex', 'Cafeteria', 'Wi-Fi Campus', 'Auditorium', 'Hostels', 'Research Labs'];
                
                // Generate college image URL
                const imageUrl = `/placeholder.svg?height=200&width=300&text=${encodeURIComponent(college.name.replace(/\s+/g, '+'))}`;
                
                // Generate HTML for reviews
                const reviewsHtml = reviews.map(review => `
                    <div class="review-card">
                        <div class="review-header">
                            <span class="reviewer-name">${review.student}</span>
                            <span class="rating">${'★'.repeat(Math.floor(review.rating))}${review.rating % 1 ? '☆' : ''}</span>
                        </div>
                        <p class="review-text">${review.comment}</p>
                    </div>
                `).join('');
                
                // Generate HTML for courses
                const coursesHtml = courses.map(course => `<span class="tag">${course}</span>`).join('');
                
                // Generate HTML for facilities
                const facilitiesHtml = facilities.map(facility => `<span class="tag">${facility}</span>`).join('');
                
                // Generate HTML for recruiters
                const recruitersHtml = placements.topRecruiters.map(recruiter => `<span class="tag">${recruiter}</span>`).join('');
                
                // Render college details
                detailsContainer.innerHTML = `
                    <div class="college-header fade-in">
                        <img src="${imageUrl}" alt="${college.name}" class="college-image" onerror="this.src='/placeholder.svg?height=200&width=300&text=College+Image'">
                        <div class="college-info">
                            <h1 class="college-title">${college.name}</h1>
                            <div class="college-details">
                                <div class="detail-item">
                                    <i class="fas fa-map-marker-alt detail-icon"></i>
                                    <span>${college.city}, ${college.state}</span>
                                </div>
                                <div class="detail-item">
                                    <i class="fas fa-graduation-cap detail-icon"></i>
                                    <span>${college.type}</span>
                                </div>
                                <div class="detail-item">
                                    <i class="fas fa-database detail-icon"></i>
                                    <span>Source: ${college.source}</span>
                                </div>
                                ${college.website ? `
                                <div class="detail-item">
                                    <i class="fas fa-globe detail-icon"></i>
                                    <a href="${college.website}" target="_blank" style="color: #6366f1; word-break: break-all;">${college.website}</a>
                                </div>
                                ` : ''}
                                ${college.phone ? `
                                <div class="detail-item">
                                    <i class="fas fa-phone detail-icon"></i>
                                    <span>${college.phone}</span>
                                </div>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                    
                    <div class="section fade-in">
                        <h3 class="section-title">
                            <i class="fas fa-info-circle section-icon"></i>
                            About
                        </h3>
                        <div class="section-content">
                            <p>${about}</p>
                        </div>
                    </div>
                    
                    <div class="section fade-in">
                        <h3 class="section-title">
                            <i class="fas fa-chart-bar section-icon"></i>
                            Placement Statistics
                        </h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value">${placements.averagePackage}</div>
                                <div class="stat-label">Average Package</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">${placements.highestPackage}</div>
                                <div class="stat-label">Highest Package</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value">${placements.placementRate}</div>
                                <div class="stat-label">Placement Rate</div>
                            </div>
                        </div>
                        <div class="section-content">
                            <p><strong>Top Recruiters:</strong></p>
                            <div class="tags-container">
                                ${recruitersHtml}
                            </div>
                        </div>
                    </div>
                    
                    <div class="section fade-in">
                        <h3 class="section-title">
                            <i class="fas fa-book section-icon"></i>
                            Courses Offered
                        </h3>
                        <div class="section-content">
                            <div class="tags-container">
                                ${coursesHtml}
                            </div>
                        </div>
                    </div>
                    
                    <div class="section fade-in">
                        <h3 class="section-title">
                            <i class="fas fa-building section-icon"></i>
                            Facilities
                        </h3>
                        <div class="section-content">
                            <div class="tags-container">
                                ${facilitiesHtml}
                            </div>
                        </div>
                    </div>
                    
                    <div class="section fade-in">
                        <h3 class="section-title">
                            <i class="fas fa-star section-icon"></i>
                            Student Reviews
                        </h3>
                        <div class="section-content">
                            ${reviewsHtml}
                        </div>
                    </div>
                    
                    <div class="section fade-in">
                        <h3 class="section-title">
                            <i class="fas fa-map-marked-alt section-icon"></i>
                            Location
                        </h3>
                        <div class="section-content">
                            <p><strong>Address:</strong> ${college.address}</p>
                            ${college.coordinates ? `
                            <p><strong>Coordinates:</strong> ${college.coordinates.lat.toFixed(6)}, ${college.coordinates.lon.toFixed(6)}</p>
                            ` : ''}
                            <div class="map-container">
                                <i class="fas fa-map-marked-alt"></i>
                                <p style="font-weight: 600; margin-bottom: 0.5rem;">Interactive Map</p>
                                <p>Real location data from ${college.source}</p>
                                ${college.coordinates ? `
                                <p style="font-size: 0.9rem; margin-top: 0.5rem;">
                                    <a href="https://www.google.com/maps?q=${college.coordinates.lat},${college.coordinates.lon}" target="_blank" style="color: #6366f1;">
                                        <i class="fas fa-external-link-alt"></i> View on Google Maps
                                    </a>
                                </p>
                                ` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }, 800);
        }

        // Generate mock reviews
        function generateMockReviews() {
            const reviewerNames = ['Rahul S.', 'Priya K.', 'Amit R.', 'Sneha G.', 'Vikram P.', 'Neha M.'];
            const reviewComments = [
                'Great faculty and facilities, but campus food could improve.',
                'Excellent academic programs and supportive environment.',
                'Good infrastructure and research opportunities.',
                'Wonderful campus life and diverse student community.',
                'Strong industry connections and placement support.',
                'Beautiful campus with modern facilities and equipment.'
            ];
            
            const reviews = [];
            for (let i = 0; i < 3; i++) {
                reviews.push({
                    student: reviewerNames[Math.floor(Math.random() * reviewerNames.length)],
                    rating: (3.5 + Math.random() * 1.5).toFixed(1),
                    comment: reviewComments[Math.floor(Math.random() * reviewComments.length)]
                });
            }
            return reviews;
        }

        // Generate mock placement data
        function generateMockPlacements(type) {
            let avgPackage, highestPackage, placementRate;
            
            if (type === 'Engineering' || type === 'University') {
                avgPackage = (8 + Math.random() * 12).toFixed(1) + ' LPA';
                highestPackage = (25 + Math.random() * 50).toFixed(1) + ' LPA';
                placementRate = (85 + Math.random() * 10).toFixed(0) + '%';
            } else {
                avgPackage = (4 + Math.random() * 8).toFixed(1) + ' LPA';
                highestPackage = (15 + Math.random() * 20).toFixed(1) + ' LPA';
                placementRate = (70 + Math.random() * 20).toFixed(0) + '%';
            }
            
            const recruiters = ['TCS', 'Infosys', 'Wipro', 'IBM', 'Accenture', 'Amazon', 'Microsoft', 'Google', 'Deloitte', 'EY'];
            const topRecruiters = [];
            for (let i = 0; i < 5; i++) {
                const recruiter = recruiters[Math.floor(Math.random() * recruiters.length)];
                if (!topRecruiters.includes(recruiter)) {
                    topRecruiters.push(recruiter);
                }
            }
            
            return {
                averagePackage: avgPackage,
                highestPackage: highestPackage,
                placementRate: placementRate,
                topRecruiters: topRecruiters
            };
        }

        // Generate courses based on type
        function generateCourses(type) {
            if (type === 'Engineering') {
                return ['B.Tech', 'M.Tech', 'PhD', 'B.E.', 'M.E.'];
            } else if (type === 'University') {
                return ['BA', 'BSc', 'BCom', 'MA', 'MSc', 'MCom', 'PhD', 'B.Tech', 'M.Tech'];
            } else if (type === 'Medical') {
                return ['MBBS', 'MD', 'MS', 'BDS', 'MDS'];
            } else if (type === 'Management') {
                return ['BBA', 'MBA', 'PGDM', 'Executive MBA'];
            } else {
                return ['BA', 'BSc', 'BCom', 'MA', 'MSc', 'MCom'];
            }
        }

        // Search functionality
        function handleSearch() {
            const searchInput = document.getElementById('search-input');
            if (searchInput) {
                const searchTerm = searchInput.value.trim();
                fetchColleges(searchTerm);
            }
        }

        // Filter functionality
        function handleFilter(filterType, filterValue) {
            currentFilters[filterType] = filterValue;
            
            // Update UI
            document.querySelectorAll(`[data-type="${filterType}"]`).forEach(option => {
                option.classList.remove('active');
                if (option.dataset.filter === filterValue) {
                    option.classList.add('active');
                }
            });

            // Apply filters and update display
            applyFilters();
            renderCollegeList();
            updateCollegeCount();
            
            // Close filter menu
            document.querySelectorAll('.filter-menu').forEach(menu => {
                menu.classList.remove('active');
            });
        }

        // Mobile toggle functionality
        function toggleMobileList() {
            const listContainer = document.getElementById('college-list-container');
            const toggleBtn = document.getElementById('mobile-toggle');
            
            if (listContainer && toggleBtn) {
                if (listContainer.classList.contains('mobile-hidden')) {
                    listContainer.classList.remove('mobile-hidden');
                    toggleBtn.innerHTML = '<i class="fas fa-times"></i> Hide College List';
                } else {
                    listContainer.classList.add('mobile-hidden');
                    toggleBtn.innerHTML = '<i class="fas fa-list"></i> Show College List';
                }
            }
        }

        // Event listeners
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            fetchColleges(); // Auto-fetch colleges on page load
            
            // Search functionality
            const searchBtn = document.getElementById('search-btn');
            const searchInput = document.getElementById('search-input');
            
            if (searchBtn) {
                searchBtn.addEventListener('click', handleSearch);
            }
            
            if (searchInput) {
                searchInput.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') handleSearch();
                });
                
                // Real-time search with debounce
                let searchTimeout;
                searchInput.addEventListener('input', () => {
                    clearTimeout(searchTimeout);
                    searchTimeout = setTimeout(() => {
                        const searchTerm = searchInput.value.trim();
                        if (searchTerm.length > 2 || searchTerm.length === 0) {
                            handleSearch();
                        }
                    }, 1000);
                });
            }
            
            // Filter functionality
            const filterBtns = ['type-filter-btn', 'city-filter-btn', 'state-filter-btn'];
            const filterMenus = ['type-filter-menu', 'city-filter-menu', 'state-filter-menu'];
            
            filterBtns.forEach((btnId, index) => {
                const btn = document.getElementById(btnId);
                const menu = document.getElementById(filterMenus[index]);
                
                if (btn && menu) {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        // Close other menus
                        filterMenus.forEach((menuId, menuIndex) => {
                            if (menuIndex !== index) {
                                const otherMenu = document.getElementById(menuId);
                                if (otherMenu) otherMenu.classList.remove('active');
                            }
                        });
                        // Toggle current menu
                        menu.classList.toggle('active');
                    });
                }
            });
            
            // Add event listeners for default filter options
            document.querySelectorAll('.filter-option').forEach(option => {
                option.addEventListener('click', () => {
                    const filterType = option.dataset.type;
                    const filterValue = option.dataset.filter;
                    handleFilter(filterType, filterValue);
                });
            });
            
            // Mobile toggle
            const mobileToggle = document.getElementById('mobile-toggle');
            if (mobileToggle) {
                mobileToggle.addEventListener('click', toggleMobileList);
            }
            
            // Close filter menus when clicking outside
            document.addEventListener('click', (e) => {
                if (!e.target.closest('.filter-dropdown')) {
                    document.querySelectorAll('.filter-menu').forEach(menu => {
                        menu.classList.remove('active');
                    });
                }
            });
            
            // Handle window resize
            window.addEventListener('resize', () => {
                // Recreate particles on resize
                createParticles();
                
                // Reset mobile layout on desktop
                if (window.innerWidth > 768) {
                    const listContainer = document.getElementById('college-list-container');
                    const toggleBtn = document.getElementById('mobile-toggle');
                    if (listContainer && toggleBtn) {
                        listContainer.classList.remove('mobile-hidden');
                        toggleBtn.innerHTML = '<i class="fas fa-list"></i> Show College List';
                    }
                }
            });
        });

        // Scroll effects
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header');
            if (header) {
                if (window.scrollY > 50) {
                    header.style.background = 'rgba(255, 255, 255, 0.98)';
                    header.style.boxShadow = '0 4px 40px rgba(0, 0, 0, 0.15)';
                } else {
                    header.style.background = 'rgba(255, 255, 255, 0.95)';
                    header.style.boxShadow = '0 4px 30px rgba(0, 0, 0, 0.1)';
                }
            }
        });

        // Prevent zoom on double tap for iOS
        let lastTouchEnd = 0;
        document.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // Handle orientation change
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                createParticles();
            }, 500);
        });

        // Make functions globally accessible for onclick handlers
        window.removeFilter = removeFilter;
        window.clearAllFilters = clearAllFilters;
        window.fetchColleges = fetchColleges;
    </script>
</body>
</html>
